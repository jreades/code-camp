<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Code Camp – packages</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../lessons/Classes.html" rel="next">
<link href="../lessons/Functions.html" rel="prev">
<link href="..//img/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-md navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../img/CASA_Logo_no_text.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Code Camp</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Welcome</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-setting-up" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Setting Up</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-setting-up">    
        <li>
    <a class="dropdown-item" href="../setup/index.html" rel="" target="">
 <span class="dropdown-text">Getting Started</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../setup/health.html" rel="" target="">
 <span class="dropdown-text">Health Check</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../setup/install.html" rel="" target="">
 <span class="dropdown-text">Installing Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../setup/no_install.html" rel="" target="">
 <span class="dropdown-text">No Install Options</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../help.html" rel="" target="">
 <span class="dropdown-text">Getting Help</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lessons" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Lessons</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-lessons">    
        <li>
    <a class="dropdown-item" href="../lessons/Doing_Urban_Spatial_Science.html" rel="" target="">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Background.html" rel="" target="">
 <span class="dropdown-text">Background</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Tools_of_the_Trade.html" rel="" target="">
 <span class="dropdown-text">Tools of the Trade</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/The_Basics.html" rel="" target="">
 <span class="dropdown-text">The Basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Exceptions.html" rel="" target="">
 <span class="dropdown-text">Exceptions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Writing_Code.html" rel="" target="">
 <span class="dropdown-text">Writing Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Boolean_Logic.html" rel="" target="">
 <span class="dropdown-text">Boolean Logic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Recap_1.html" rel="" target="">
 <span class="dropdown-text">Recap 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Lists.html" rel="" target="">
 <span class="dropdown-text">Lists</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Dicts.html" rel="" target="">
 <span class="dropdown-text">Dictionaries</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Loops.html" rel="" target="">
 <span class="dropdown-text">Loops</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Recap_2.html" rel="" target="">
 <span class="dropdown-text">Recap 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Functions.html" rel="" target="">
 <span class="dropdown-text">Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Packages.html" rel="" target="">
 <span class="dropdown-text">Packages</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/Classes.html" rel="" target="">
 <span class="dropdown-text">Classes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lessons/The_Terminal.html" rel="" target="">
 <span class="dropdown-text">The Terminal</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lessons/Packages.html">Packages</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Doing_Urban_Spatial_Science.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Background</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Tools_of_the_Trade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tools of the Trade</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/The_Basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Basics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Exceptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exceptions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Writing_Code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Writing Code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Boolean_Logic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Boolean Logic</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Recap_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recap 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Lists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lists</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Dicts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dictionaries</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Loops.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loops</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Recap_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recap 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Functions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Packages.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/Classes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/The_Terminal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Terminal</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#functions-vs.-packages" id="toc-functions-vs.-packages" class="nav-link active" data-scroll-target="#functions-vs.-packages">Functions vs.&nbsp;Packages</a></li>
  <li><a href="#packages-in-programming-context" id="toc-packages-in-programming-context" class="nav-link" data-scroll-target="#packages-in-programming-context">Packages in Programming Context</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/jreades/code-camp/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Packages</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="functions-vs.-packages" class="level2">
<h2 class="anchored" data-anchor-id="functions-vs.-packages">Functions vs.&nbsp;Packages</h2>
<p>We saw in a previous Code Camp Lesson how <strong>functions</strong> are a useful programming tool to enable us to re-use chunks of code. Basically, a function is a way to do something to something in a portable, easy-to-use little bundle of code.</p>
<p>However, some steps in a program are done so many times by so many people that, eventually, someone writes a <strong>package</strong> that bundles up those operations into something easy to use that saves <em>you</em> having to figure out the gory details.</p>
<p>In this lesson we’ll see how packages are useful in the context of tacking problems programmatically. The problem we will use here as an example is: <em>download a data file that we know is hosted on a web site and then do some analysis of those data</em>.</p>
<p>In this example, we are going to access and analyse a data set that we created: <a href="https://raw.githubusercontent.com/kingsgeocomp/geocomputation/master/CitiesWithWikipediaData-simple.csv">Cities from Wikipedia Data</a>. Have a look at those data in your browser now by pasting the URL into a new tab. We’ll use the <code>urlopen</code> package to help us access the data.</p>
<section id="q-how-is-a-package-different-from-a-function" class="level3">
<h3 class="anchored" data-anchor-id="q-how-is-a-package-different-from-a-function">Q: How is a package different from a function?</h3>
<p><strong>A</strong>: A package is just a bundle of useful functions.</p>
<p>There’s a little more to it than this, but simplest way to think of this is that when we type <code>import foo</code> then we are including functions from the <code>foo</code> package in our code. You’ll see how this works below.</p>
<p>The point of the bundle-of-functions is that they can help us to achieve quite a lot very quickly since we don’t need to reinvent the wheel and can just make use of someone else’s code. In the same way that we won’t mark you down for Googling the answer to a coding question, we won’t mark you down for using someone else’s package to help you get going with your programming. <em><strong>That’s the whole point!</strong></em></p>
<p>Often, if you’re not sure where to start Google (or StackOverflow) is the place to go:</p>
<p><a href="https://www.google.co.uk/search?q=how+to+read+text+file+on+web+server+python&amp;oq=how+to+read+text+file+on+web+server+python&amp;aqs=chrome..69i57.629j0j7&amp;sourceid=chrome&amp;ie=UTF-8"><code>how to read text file on web server python</code></a></p>
<p>Boom!</p>
</section>
<section id="q-but-why-have-packages-at-all-why-not-just-copy-and-paste-all-the-functions-that-we-need-into-our-script-directly" class="level3">
<h3 class="anchored" data-anchor-id="q-but-why-have-packages-at-all-why-not-just-copy-and-paste-all-the-functions-that-we-need-into-our-script-directly">Q: But why have packages at all, why not just copy and paste all the functions that we need into our script directly?</h3>
<p><strong>A</strong>: Because it keeps our code ‘clean’ and allows us to have functions with the <em>same name</em> that do different things.</p>
<p>Imagine the following:</p>
<ul>
<li>You want to write a program to read data from two different web sites (<em>e.g.</em> <a href="https://www.nomisweb.co.uk/default.asp">NOMIS</a> and the <a href="https://data.london.gov.uk/">London Data Store</a>)</li>
<li>It turns out that both already have handy Python packages that help you to read the data if you give them the URL of the page to read</li>
<li>Even better, <em>both</em> packages have a simple function called <code>read_data(...)</code> that takes a URL and extracts the data that you want from that page as a CSV file, except…</li>
<li>Because the web sites are <em>completely</em> different the <code>read_data(...)</code> functions are <em>specific</em> to that one web site!</li>
</ul>
<p>So, if both packages have functions callend <code>read_data()</code>, then after you have done:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nomis_reader</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ldn_data_store_reader</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>How does Python know which <code>read_data</code> you want to use?</p>
<p>The answer is the <em>namespace</em>: you can <em>only</em> access the NOMIS <code>read_data</code> function by typing <code>nomis.read_data(...)</code> and you can <em>only</em> access the Data Store <code>read_data</code> function by typing <code>ldn_data_store_reader.read_data(...)</code>.</p>
</section>
<section id="import-as" class="level3">
<h3 class="anchored" data-anchor-id="import-as">Import… As…</h3>
<p>The length and awkwardness of that last line is why you can write this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ldn_data_store_reader <span class="im">as</span> ldn</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Because the <em>alias</em> (<code>"...as ldn"</code>) lets you type <code>ldn.read_data(...)</code> and Python will know exactly which function you mean!</p>
</section>
</section>
<section id="packages-in-programming-context" class="level2">
<h2 class="anchored" data-anchor-id="packages-in-programming-context">Packages in Programming Context</h2>
<p>The first step to writing a program is thinking about your goal and the steps required to achieve that. We <em><strong>don’t</strong></em> write programs like we write essays: all at once by writing a whole lot of code and then hoping for the best when we hit ‘submit’.&nbsp;</p>
<p>When you’re tackling a programming problem you break it down into separate, simpler steps, and then tick them off one by one. Doing this gets easier as you become more familiar with programming, but it remains crucial and, in many cases, good programmers in large companies spend more time on <em>design</em> than they do on actual <em>coding</em>.</p>
<p>To a computer, reading data from a remote location (e.g.&nbsp;a web site halfway around the world) is not really any different from reading one that’s sitting on your your local hard drive (e.g.&nbsp;on your desktop). To simplify things a great deal: the computer really just needs to know the location of the file and an appropriate <em>protocol</em> for accessing that file (<em>e.g.</em> http, https, ftp, local…) and then a clever programming language like Python will typically have packages that can kind of take of the rest.</p>
<p>In all cases – local and remote – you use the package to handle the hard bit of knowing how to actually ‘read’ data (because all files are just <code>1</code>s and <code>0</code>s of data) at the <em>device</em> level and then Python gives you back a ‘file handle’ that helps you to achieve things like ‘read a line’ or ‘close an open file’. You can think of a filehandle as something that gives you a ‘grip’ on a file-like object no matter where or what it is, and the package is the way that this magic is achieved.</p>
<p>Let’s recall our problem: <em>download a data file that we know is hosted on a web site and then do some analysis of those data</em>.</p>
<p>We need to break this seemingly hard problem down into something simpler and can do this by thinking about it as three separate steps:</p>
<ol type="1">
<li>First we want to read a remote file (i.e.&nbsp;a text file somewhere the planet),</li>
<li>Then we want to turn it into a local data structure (i.e a list or a dictionary),</li>
<li>Finally we want to perform some calculations on the data (e.g.&nbsp;calculate the mean).</li>
</ol>
<p>We can tackle each of those in turn, getting the first bit working, then adding the second bit, etc. It’s just like using lego to build something: you take the same pieces and assemble them in different ways to produce different things.</p>
<section id="step-1-reading-a-remote-file" class="level3">
<h3 class="anchored" data-anchor-id="step-1-reading-a-remote-file">Step 1: Reading a Remote File</h3>
<p>So, as I said, in Step #1 we are going to download a file hosted on a remote web site at <a href="https://raw.githubusercontent.com/kingsgeocomp/geocomputation/master/CitiesWithWikipediaData-simple.csv">Cities from Wikipedia Data</a> (this can also be stored as a bit-link to make it easier to copy+paste and avoid <em>really</em> long lines: http://bit.ly/2vrUFKi)</p>
<p>We aren’t going to to try to turn it into data or otherwise make ‘sense’ of it yet, we just want to <strong>get</strong> it. We are then going to build from this first step towards more substantial exercises and, eventually, you could easily request Megabytes of data in real-time according to flexibly-specified parameters!</p>
<p>Because we’re accessing data from a URL we will use the <code>urlopen</code> <a href="https://docs.python.org/3.0/library/urllib.request.html?highlight=urlopen#urllib.request.urlopen">function</a> from the <code>urllib.request</code> <a href="https://docs.python.org/3.0/library/urllib.request.html">package</a>.</p>
<p>If you’re wondering how we know to use this function and package, you might google something like: <em>read remote csv file python 3</em> which in turn might get you to a StackOverflow question and anwer like <a href="https://stackoverflow.com/questions/36965864/opening-a-url-with-urllib-in-python-3">this</a>.</p>
<section id="getting-help-with-packages" class="level4">
<h4 class="anchored" data-anchor-id="getting-help-with-packages">Getting help with packages</h4>
<p>Of course, just knowing that you need <code>urlopen</code> doesn’t necessarily help you to actually <em>use</em> it. In addition to finding example code on StackOverflow, you can also ask the package itself for help with <code>dir</code> and <code>help</code>.</p>
<section id="dir" class="level5">
<h5 class="anchored" data-anchor-id="dir">dir</h5>
<p>The ‘Dive into Python’ web site will tell you that “dir returns a list of the attributes and methods of any object”. That introduces yet another term (‘modules’) that we don’t want to get into right now, but <em>everything</em> in Python is an object and so <code>dir</code> will give you help with packages, variables, functions… you name it.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">dir</span>(math)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What <strong><code>dir</code></strong> gives you is information about things you can potentially do: it’s like navigating the menu of a web site – you aren’t yet looking at the information you need, you’re trying to figure out if the site even <em>has</em> what you need. So <code>dir</code> on a package will give you a list of the functions (and any variables) that the person who created the package has provided.</p>
<p>Typically, the information given by <code>dir</code> is highly abbreviated and is really just a prelude to using <code>help</code>.</p>
</section>
<section id="help" class="level5">
<h5 class="anchored" data-anchor-id="help">help</h5>
<p>The <code>help</code> function gives you the actual detail you need about how to use a particular function: what are the inputs, what are the outputs, and what will the function actually <em>do</em> ?</p>
<p>Both of these can be used on a package, a function, or a variable that you’ve created; for example:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(math.acos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s see this in action!</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> urllib.request <span class="im">import</span> urlopen</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"dir(urlopen) returns:</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">dir</span>(urlopen))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n\n</span><span class="st">"</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"help(urlopen) returns:</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">help</span>(urlopen)) <span class="co"># Notice!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Note</strong>: you can also get help in Jupyter by typing <code>?urlopen</code> in a code block and then hitting ‘run’.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>?urlopen</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="a-challenge-for-you" class="level4">
<h4 class="anchored" data-anchor-id="a-challenge-for-you">A Challenge for you!</h4>
<p>Fix the code to set the <code>url</code> variable, then use it with the <code>urlopen</code> function to open it.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> urllib.request <span class="im">import</span> urlopen</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Given the info you were given above, what do you </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># think the value of 'url' should be? What</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># type of variable is it? int or string? </span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> ???</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the URL stream into variable called 'response'</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># using the function that we imported above</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> ???(url)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#now read from the stream, decoding so that we get actual text</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>datafile <span class="op">=</span> response.read().decode(<span class="st">'utf-8'</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"datafile variable is of type: '"</span> <span class="op">+</span> datafile.__class__.<span class="va">__name__</span> <span class="op">+</span> <span class="st">"'.</span><span class="ch">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> urllib.request <span class="im">import</span> urlopen</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"http://bit.ly/2vrUFKi"</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> urlopen(url)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>datafile <span class="op">=</span> response.read().decode(<span class="st">'utf-8'</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"datafile variable is of type: '"</span> <span class="op">+</span> datafile.__class__.<span class="va">__name__</span> <span class="op">+</span> <span class="st">"'.</span><span class="ch">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Note that the <em>datafile</em> variable is of type <code>string</code> (because we decoded it as such). If we hadn’t decoded it, the result would have been of type <code>bytes</code> which wouldn’t be as easy for us (humans) to work with.</p>
<p>Now that we’ve read our data as text, we can print it to check.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(datafile)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>So this is definitely text, but even though it has been nicely formatted <em>visually</em> in the script, right now it’s actually not in a very convenient format to work with in our <em>code</em>. The <code>datafile</code> <code>str</code> object is actually a single string of text that Python is interpreting as having line breaks. We can see this by printing the ‘raw’ object using the <code>repr</code> function:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">repr</span>(datafile))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note the <code>\n</code> character that Python is using to determine when to print a <a href="https://en.wikipedia.org/wiki/Newline">new line</a> for us to read nicely.</p>
<p>To split the text into individual lines ourselves (ready to work with in our code), we can use the handily named <code>.splitlines()</code> method (more on methods below):</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"http://bit.ly/2vrUFKi"</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> urlopen(url)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>datafile <span class="op">=</span> response.read().decode(<span class="st">'utf-8'</span>).splitlines()</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"datafile variable is of type: '"</span> <span class="op">+</span> datafile.__class__.<span class="va">__name__</span> <span class="op">+</span> <span class="st">"'.</span><span class="ch">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note now, that the data variable has type <code>list</code>. When we print this <code>datafile</code> <code>list</code> object (without <code>repr</code>) the <code>\n</code> characters have gone and the list elements are split where those new line characters were previously (look carefully at where the <code>'</code> are):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(datafile)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can see this more clearly if we use a for loop to print out each element of the list (each element being a row of the original online file):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> datafile:</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(row)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The last row should be <code>10,Sheffield,10,-163545.3257,7055177.403,685368</code>.</p>
<p>If you’ve managed to get the code above to run and have received 11 rows of text in response to your <code>urlopen</code> query then, congratulations, you’ve now read a text file sitting on a server in, I think, Alberta, Canada and Python <em>didn’t care</em>.</p>
</section>
</section>
<section id="step-2-turning-text-into-data" class="level3">
<h3 class="anchored" data-anchor-id="step-2-turning-text-into-data">Step 2: Turning Text into Data</h3>
<p>We now need to work on turning the response we got to our <code>urlopen</code> request into useful data. You’ll notice that we are dealing with a <em>CSV</em> (Comma-Separated Value) file and that the format is quite simple since none of the rows have fields that <em>themselves</em> contain commas. So to turn this into data we just need to <em>split</em> the row into separate fields using the commas.</p>
<p>In the code below, <code>dir('string')</code> lists the available function for strings (because <code>'string'</code> is itself a <em>String</em>; we could just as easily written <code>dir('foo')</code> or <code>dir('supercalifragilisticexpialidocious')</code> because ‘foo’ and ‘supercalifragilisticexpialidocious’ are also strings and so have the <em>same</em> functions available.</p>
<p>In the output below, the functions that start and end with <code>__</code> are generally considered private, so you can skip over these and focus on the ones further down that are designed to be useful to programmers. Can you spot the method that is most likely to be useful?</p>
</section>
<section id="a-brief-musical-interlude" class="level3">
<h3 class="anchored" data-anchor-id="a-brief-musical-interlude">A Brief Musical Interlude</h3>
<p>Just in case you need help pronouncing supercalifragilisticexpialidocious:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://youtu.be/uZNRzc3hWvE"><img src="http://img.youtube.com/vi/uZNRzc3hWvE/0.jpg" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Mary Poppins</figcaption>
</figure>
</div>
<p>Remember that you can find out what <em>methods</em> are supported by a string using <code>dir(&lt;string&gt;)</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">dir</span>(<span class="st">'supercalifragilisticexpialidocious'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>I’m going to save you some time (<em>this</em> time!) and tell you that we’re interested in the <code>split</code> method. Why not use the <code>help</code> function to figure out how to make use of it?</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(<span class="st">'supercalifragilisticexpialidocious'</span>.split)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, using the output of the <code>help</code> command, how would you use <code>split</code> to turn that word into a list like this:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>[<span class="st">'sup'</span>,<span class="st">'rcalifragilisticexpialidocious'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you replace the <code>???</code> with the right bits of code then running the block below will print out “You got it!”. You <em>only</em> need to change the <code>???</code> and nothing else!</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> [<span class="st">'sup'</span>,<span class="st">'rcalifragilisticexpialidocious'</span>]<span class="op">==</span><span class="st">'supercalifragilisticexpialidocious'</span>.split(???, maxsplit<span class="op">=</span>???):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"You got it!"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Not yet!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> [<span class="st">'sup'</span>,<span class="st">'rcalifragilisticexpialidocious'</span>]<span class="op">==</span><span class="st">'supercalifragilisticexpialidocious'</span>.split(<span class="st">'e'</span>, maxsplit<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"You got it!"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Not yet!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Some other string methods</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'supercalifragilisticexpialidocious'</span>.upper())</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'supercalifragilisticexpialidocious'</span>.title())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>OK, so you’ve tracked down the way to split a <code>string</code> using a delimiter and <em>even</em> how to limit the number of ‘words’ that come out of the split operation. And you already saw another of these methods above (i.e.&nbsp;<code>splitlines</code>). We work a lot with <code>string</code>s, so it’s handy to get to know the readily-available methods well.</p>
<p>Let’s test <code>string</code> splitting using our sample data (the last line of the ‘simple’ CSV file) to make sure it works the way we think it does… We want to turn the <code>string</code> below into a list like this:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>[<span class="st">'10'</span>, <span class="st">'Sheffield'</span>, <span class="st">'10'</span>, <span class="st">'-163545.3257'</span>, <span class="st">'7055177.403'</span>, <span class="st">'685368'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Again, we only need to change the <code>???</code>.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>test <span class="op">=</span> datafile[<span class="op">-</span><span class="dv">1</span>].split(???)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>test <span class="op">=</span> datafile[<span class="op">-</span><span class="dv">1</span>].split(<span class="st">','</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<section id="consider" class="level4">
<h4 class="anchored" data-anchor-id="consider">Consider</h4>
<p>A question: why do you think that I consider a) to be data and not b)?</p>
<ol type="a">
<li></li>
</ol>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>[<span class="st">'10'</span>, <span class="st">'Sheffield'</span>, <span class="st">'10'</span>, <span class="st">'-163545.3257'</span>, <span class="st">'7055177.403'</span>, <span class="st">'685368'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="a">
<li></li>
</ol>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">"10,Sheffield,10,-163545.3257,7055177.403,685368"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Decide what you think the answer is <em>before</em> clicking for the solution</strong></p>
<p>Hopefully you can see that a) is a <code>list</code> and b) is a <code>str</code> (string). Because a) is a list we can easily access each element. For example try the following code yourself:</p>
<p>Here’s a clue:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The population of "</span> <span class="op">+</span> myList[<span class="dv">1</span>] <span class="op">+</span> <span class="st">" is "</span> <span class="op">+</span> myList[<span class="dv">5</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It is much more difficult to access the individual pieces of information from the string…</p>
<p>You can hopefully see how we’re breaking a complex problem down into a set of <em>increments</em> , each of which is a bit easier to write and understand.</p>
</section>
</section>
<section id="step-3-analysis" class="level3">
<h3 class="anchored" data-anchor-id="step-3-analysis">Step 3 Analysis</h3>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx,row <span class="kw">in</span> <span class="bu">enumerate</span>(datafile):</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(idx <span class="op">&gt;</span> <span class="dv">0</span>):</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        total <span class="op">=</span> total <span class="op">+</span> <span class="bu">int</span>(row[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>        count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#print(row)</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> total <span class="op">/</span> count </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="credits" class="level3">
<h3 class="anchored" data-anchor-id="credits">Credits!</h3>
<section id="contributors" class="level4">
<h4 class="anchored" data-anchor-id="contributors">Contributors:</h4>
<p>The following individuals have contributed to these teaching materials: - <a href="https://github.com/jamesdamillington">James Millington</a> - <a href="https://github.com/jreades">Jon Reades</a></p>
</section>
<section id="license" class="level4">
<h4 class="anchored" data-anchor-id="license">License</h4>
<p>The content and structure of this teaching project itself is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 license</a>, and the contributing source code is licensed under <a href="https://opensource.org/licenses/mit-license.php">The MIT License</a>.</p>
</section>
<section id="acknowledgements" class="level4">
<h4 class="anchored" data-anchor-id="acknowledgements">Acknowledgements:</h4>
<p>Supported by the <a href="https://www.rgs.org/HomePage.htm">Royal Geographical Society</a> (with the Institute of British Geographers) with a Ray Y Gildea Jr Award.</p>
</section>
<section id="potential-dependencies" class="level4">
<h4 class="anchored" data-anchor-id="potential-dependencies">Potential Dependencies:</h4>
<p>This lesson may depend on the following libraries: None</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../lessons/Functions.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Functions</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../lessons/Classes.html" class="pagination-link">
        <span class="nav-page-text">Classes</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 2022, J. Reades, Z. Shabrina, J. Millington &amp; M. Ferretti</div>   
    <div class="nav-footer-center"><img src="..\img/favicon-16x16.png" class="height:10px img-fluid"> Code Camp</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jreades/code-camp/">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/jreades">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>